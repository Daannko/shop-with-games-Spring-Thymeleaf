<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="ISO-8859-1">
    <title>Registration and Login App</title>

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">
    <link th:href="@{/styles/cssandjs/main.css}" rel="stylesheet" />
</head>
<body>
<!-- create navigation bar ( header) -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target="#navbar" aria-expanded="false"
                    aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span> <span
                    class="icon-bar"></span> <span class="icon-bar"></span> <span
                    class="icon-bar"></span>
            </button>

            <div>
                <a class="navbar-brand" href="#" th:href="@{/}">GameShop</a>
                <a class="navbar-brand" th:href="@{/profile}">Profile</a>
                <a class ="navbar-brand" th:href="@{/logout}">Logout</a>

                <a class ="navbar-brand" th:if="${user.returnRole() == 'ROLE_ADMIN'}" th:href="@{/admin}">Admin Panel</a>

            </div>
        </div>
    </div>
</nav>

<br>
<br>

<div class="container">
    <div>
        <h2></h2>
        <div th:if="${param.success}">
            <div class="alert alert-info">You've successfully bought this game</div>
        </div>
        <div style="display:flex; background: #39393b; margin-top: 40px ">
                <div class="img_holder">
                    <img  th:src="@{../images/{name}.jpg(name=${game.name})}" alt="error"/>
                </div>
                <div class="gamedetial" >
                    <div style = " text-align: center">
                        <span style= "font-size: 60px;color: white ;padding-top: 10%;" th:text="${game.name} "></span>
                    </div>

                    <div style = "width: 100%;padding: 5% 10% 5% 10%; background: #2a2a2a; text-align: center">
                        <span style="font-size: 20px;color: white ;" th:text="${game.description}"> </span>
                    </div>
                    <div style = " height: 100%; position:relative;" >
                        <div th:if="${game.price != 0}" style="position:absolute; bottom:0; left:0;padding-left: 1%;padding-bottom: 1%; font-size: 20px;color: white ;">
                            <span>Price: </span><span style="" th:text="${game.price}"></span><span>$</span>
                        </div>
                        <form th:action="@{/game/{id}(id=${game.id})}" method="post">
                            <div style="position:absolute; bottom:0; right:0;padding-right: 1%;padding-bottom: 1%; font-size: 20px;color: #a8a8a8 ;" th:if="${purchase == null}">
                                <button type="submit" style="background: #2a2a2a;color: white;font-size: 20px; border-radius: 4px; border: black solid 2px;padding: 0px 15px 0px 15px;font-family: monospace;">Add</button>
                            </div>
                        </form>
                        <div th:if="${purchase != null}" style="position:absolute; bottom:0 ;padding-bottom: 5%;  text-align: center; width: 100%;font-size: 15px;color: #7a7a7a ;">

                            <span style = "color:white;">Your Key: </span>
                            <div>
                                <span class="key" th:text="${purchase.getGameKey()}"></span>
                            </div>
                        </div>

                    </div>
                </div>
        </div>
    </div>
</div>
</body>
</html>